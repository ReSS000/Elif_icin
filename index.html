<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Girl Collects Hearts</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap');
  body, html {
    margin: 0;
    height: 100%;
    overflow: hidden;
    background: linear-gradient(135deg, #ffafbd, #ffc3a0);
    font-family: 'Poppins', sans-serif;
    user-select: none;
  }
  #gameContainer {
    position: relative;
    width: 100vw;
    height: 100vh;
  }
  #girl {
    position: absolute;
    width: 60px;
    height: 120px;
    background: url('kiz.png') no-repeat center/contain;
    z-index: 10;
    cursor: pointer;
    touch-action: none;
  }
  .heart {
    position: absolute;
    width: 50px;
    height: 50px;
    background: url('Kalp.png') no-repeat center/contain;
    user-select: none;
  }
  #message {
    position: fixed;
    top: 30%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 48px;
    color: #fff;
    text-shadow: 2px 2px 8px #d80073;
    display: none;
    pointer-events: none;
    white-space: nowrap;
  }
</style>
</head>
<body>
  <div id="gameContainer">
    <div id="girl" tabindex="0"></div>
    <div class="heart" id="heart1"></div>
    <div class="heart" id="heart2"></div>
    <div class="heart" id="heart3"></div>
  </div>
  <div id="message">ELƒ∞F üíù RESUL</div>
<script>
  (() => {
    const girl = document.getElementById('girl');
    const hearts = [
      document.getElementById('heart1'),
      document.getElementById('heart2'),
      document.getElementById('heart3')
    ];
    const message = document.getElementById('message');
    const container = document.getElementById('gameContainer');
    const containerRect = container.getBoundingClientRect();

    let girlPos = { x: containerRect.width / 2 - 30, y: containerRect.height / 2 - 60 }; // Ortala
    const girlSize = { width: 60, height: 120 };
    const heartSize = { width: 50, height: 50 };

    let gameEnded = false; // ‚ú® yazƒ± √ßƒ±kƒ±nca artƒ±k hareket etmesin

    function placeHeartsRandomly() {
      hearts.forEach(heart => {
        const x = Math.random() * (containerRect.width - heartSize.width - 40) + 20;
        const y = Math.random() * (containerRect.height - heartSize.height - 40) + 20;
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        heart.style.display = 'block';
      });
    }

    function updateGirlPos() {
      girlPos.x = Math.min(containerRect.width - girlSize.width, Math.max(0, girlPos.x));
      girlPos.y = Math.min(containerRect.height - girlSize.height, Math.max(0, girlPos.y));
      girl.style.left = girlPos.x + 'px';
      girl.style.top = girlPos.y + 'px';
    }

    function checkCollision(rect1, rect2) {
      return !(
        rect1.right < rect2.left ||
        rect1.left > rect2.right ||
        rect1.bottom < rect2.top ||
        rect1.top > rect2.bottom
      );
    }

    let collected = 0;

    function tryCollectHearts() {
      const girlRect = girl.getBoundingClientRect();

      hearts.forEach(heart => {
        if (heart.style.display !== 'none') {
          const heartRect = heart.getBoundingClientRect();
          if (checkCollision(girlRect, heartRect)) {
            heart.style.display = 'none';
            collected++;
            if (collected === hearts.length) {
              showMessage();
            }
          }
        }
      });
    }

    function showMessage() {
      gameEnded = true;
      message.style.display = 'block';
      message.animate([
        { transform: 'translateX(-50%) translateY(-50px)', opacity: 0 },
        { transform: 'translateX(-50%) translateY(0)', opacity: 1 }
      ], {
        duration: 800,
        easing: 'ease-out',
        fill: 'forwards'
      });
    }

    // Klavye ile kontrol
    window.addEventListener('keydown', e => {
      if (gameEnded) return;

      const step = 15;
      let moved = false;
      switch (e.key) {
        case 'ArrowUp':
        case 'w':
        case 'W':
          girlPos.y -= step;
          moved = true;
          break;
        case 'ArrowDown':
        case 's':
        case 'S':
          girlPos.y += step;
          moved = true;
          break;
        case 'ArrowLeft':
        case 'a':
        case 'A':
          girlPos.x -= step;
          moved = true;
          break;
        case 'ArrowRight':
        case 'd':
        case 'D':
          girlPos.x += step;
          moved = true;
          break;
      }
      if (moved) {
        e.preventDefault();
        updateGirlPos();
        tryCollectHearts();
      }
    });

    // Mouse ile s√ºr√ºkleme
    let dragging = false;
    girl.addEventListener('mousedown', e => {
      if (gameEnded) return;
      dragging = true;
    });
    window.addEventListener('mouseup', e => {
      dragging = false;
    });
    window.addEventListener('mousemove', e => {
      if (dragging && !gameEnded) {
        moveGirlTo(e.clientX, e.clientY);
      }
    });

    // Touch (mobil) i√ßin
    girl.addEventListener('touchstart', e => {
      if (gameEnded) return;
      e.preventDefault();
      dragging = true;
    }, { passive: false });

    window.addEventListener('touchend', e => {
      dragging = false;
    });

    window.addEventListener('touchmove', e => {
      if (dragging && !gameEnded && e.touches.length === 1) {
        const touch = e.touches[0];
        moveGirlTo(touch.clientX, touch.clientY);
      }
    }, { passive: false });

    function moveGirlTo(x, y) {
      girlPos.x = Math.min(containerRect.width - girlSize.width, Math.max(0, x - girlSize.width / 2));
      girlPos.y = Math.min(containerRect.height - girlSize.height, Math.max(0, y - girlSize.height / 2));
      updateGirlPos();
      tryCollectHearts();
    }

    // Ba≈ülangƒ±√ß
    placeHeartsRandomly();
    updateGirlPos();
  })();
</script>
</body>
</html>

</script>
</body>
</html>

